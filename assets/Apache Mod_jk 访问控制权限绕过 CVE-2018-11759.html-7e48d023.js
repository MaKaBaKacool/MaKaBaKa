import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as s,c as d,a as e,b as a,d as n,e as i}from"./app-58e4a7d6.js";const x={},l=i(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Apache Tomcat JK（mod_jk）Connector是美国阿帕奇（Apache）软件基金会的一款为Apache或IIS提供连接后台Tomcat的模块，用以为Apache或IIS服务器提供处理JSP/Servlet的能力。</p><p>由于httpd和Tomcat在路径处理规范上存在差异，因此可以绕过Apache mod_jk Connector 1.2.0版本到1.2.44版本上由JkMount httpd指令所定义端点的访问控制限制。 如果一个只有只读权限的jkstatus的接口可以访问的话，那么就有可能能够公开由mod_jk模块给AJP提供服务的内部路由。 如果一个具有读写权限的jkstatus接口可供访问，我们就能通过修改AJP的配置文件中相关配置来劫持或者截断所有经过mod_jk的流量，又或者进行内部的端口扫描。</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Apache Mod_jk Connector 1.2.0 ~ 1.2.44
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><div class="language-plain line-numbers-mode" data-ext="plain"><pre class="language-plain"><code>git clone https://github.com/immunIT/CVE-2018-11759.git
docker-conpose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,7),c={href:"http://xxx.xxx.xxx.xxx:80",target:"_blank",rel:"noopener noreferrer"},h=e("figure",null,[e("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202202090041136.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),p=e("h2",{id:"漏洞复现",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞复现","aria-hidden":"true"},"#"),a(" 漏洞复现")],-1),u={href:"http://xxx.xxx.xxx.xxx/jkstatus",target:"_blank",rel:"noopener noreferrer"},_=i(`<div class="language-plain line-numbers-mode" data-ext="plain"><pre class="language-plain"><code>Forbidden
You don&#39;t have permission to access /jkstatus on this server.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202090041216.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,2),m={href:"http://xxx.xxx.xxx.xxx/jkstatus",target:"_blank",rel:"noopener noreferrer"},g=e("ul",null,[e("li",null,"注意是在url后面加上了一个;")],-1),b=e("figure",null,[e("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202202090042251.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1);function k(v,f){const t=o("ExternalLinkIcon");return s(),d("div",null,[l,e("p",null,[a("访问 "),e("a",c,[a("http://xxx.xxx.xxx.xxx:80"),n(t)]),a(" 成功即可")]),h,p,e("p",null,[a("访问 "),e("a",u,[a("http://xxx.xxx.xxx.xxx/jkstatus"),n(t)]),a(" 显示无权限访问")]),_,e("p",null,[a("访问 "),e("a",m,[a("http://xxx.xxx.xxx.xxx/jkstatus"),n(t)]),a("; 即可绕过")]),g,b])}const C=r(x,[["render",k],["__file","Apache Mod_jk 访问控制权限绕过 CVE-2018-11759.html.vue"]]);export{C as default};
