import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as l,c as s,a,b as e,d as t,e as o}from"./app-58e4a7d6.js";const d={},c=o(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Grafana 是一个用于分析、监控和数据可视化的开源应用程序。数以千计的公司使用 Grafana，包括 PayPal、eBay 和 Intel 等主要代表。通过登录后台设置Mysql可以读取服务器中的任意文件</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Grafana &lt; 6.4.4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker pull grafana/grafana:6.4.3 
docker run -d --name=grafana -p 3000:3000 grafana/grafana:6.4.3 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>登录后台 admin/admin, 添加数据源 Mysql</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202205241454997.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,9),h={href:"https://github.com/grafana/grafana/pull/20192/files",target:"_blank",rel:"noopener noreferrer"},p=a("figure",null,[a("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202205241454796.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1),g=a("p",null,"修复部分为 database数据库名的用户可控部分，由于 allowAllFiles=true 参数可以禁用对 LOCAL INFILE 请求的保护，再通过之前有关Mysql任意文件读取的漏洞即可获取服务器中的任意文件",-1),_=a("figure",null,[a("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202205241454909.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1),u={href:"https://github.com/allyshka/Rogue-MySql-Server",target:"_blank",rel:"noopener noreferrer"},f=a("figure",null,[a("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202205241455919.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1),b=a("p",null,"执行 Save 即可读取文件",-1),m=a("figure",null,[a("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202205241455467.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1);function x(k,v){const n=i("ExternalLinkIcon");return l(),s("div",null,[c,a("p",null,[a("a",h,[e("修复漏洞参考"),t(n)])]),p,g,_,a("p",null,[e("再创建一个恶意Mysql： "),a("a",u,[e("https://github.com/allyshka/Rogue-MySql-Server"),t(n)])]),f,b,m])}const w=r(d,[["render",x],["__file","Grafana mysql 后台任意文件读取漏洞 CVE-2019-19499.html.vue"]]);export{w as default};
