import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as s,c,a as e,b as a,d as r,e as t}from"./app-58e4a7d6.js";const d={},l=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),a(" 漏洞描述")],-1),p=e("p",null,"Adminer是一个PHP编写的开源数据库管理工具，支持MySQL、MariaDB、PostgreSQL、SQLite、MS SQL、Oracle、Elasticsearch、MongoDB等数据库。",-1),h=e("p",null,"在其版本1.12.0到4.6.2之间存在一处因为MySQL LOAD DATA LOCAL导致的文件读取漏洞。",-1),g=e("p",null,"参考链接：",-1),_={href:"https://github.com/p0dalirius/CVE-2021-43008-AdminerRead",target:"_blank",rel:"noopener noreferrer"},u={href:"http://sansec.io/research/adminer-4.6.2-file-disclosure-vulnerability",target:"_blank",rel:"noopener noreferrer"},m=t(`<h2 id="漏洞环境" tabindex="-1"><a class="header-anchor" href="#漏洞环境" aria-hidden="true">#</a> 漏洞环境</h2><p>Vulhub执行如下命令启动Web服务，其中包含Adminer 4.6.2：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>服务启动后，在<code>http://your-ip:8080</code>即可查看到Adminer的登录页面。</p><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2>`,5),f={href:"https://github.com/4ra1n/mysql-fake-server",target:"_blank",rel:"noopener noreferrer"},b=t('<figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230711104131895.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>在Adminer登录页面中填写恶意服务地址和用户名<code>fileread_/etc/passwd</code>：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230711104001865.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>可见，我们已经收到客户端连接。</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230711104230603.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>读取到的文件<code>/etc/passwd</code>已保存至当前目录：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230711104245397.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',7);function k(x,v){const i=o("ExternalLinkIcon");return s(),c("div",null,[l,p,h,g,e("ul",null,[e("li",null,[e("a",_,[a("https://github.com/p0dalirius/CVE-2021-43008-AdminerRead"),r(i)])]),e("li",null,[e("a",u,[a("http://sansec.io/research/adminer-4.6.2-file-disclosure-vulnerability"),r(i)])])]),m,e("p",null,[a("使用"),e("a",f,[a("mysql-fake-server"),r(i)]),a("启动一个恶意的MySQL服务器。")]),b])}const L=n(d,[["render",k],["__file","Adminer 远程文件读取 CVE-2021-43008.html.vue"]]);export{L as default};
