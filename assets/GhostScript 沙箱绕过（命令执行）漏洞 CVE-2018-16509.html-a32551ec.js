import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as n,c,a as e,b as t,d as o,e as i}from"./app-58e4a7d6.js";const l={},d=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),t(" 漏洞描述")],-1),p=e("p",null,"Ghostscript是一套建基于Adobe、PostScript及可移植文档格式（PDF）的页面描述语言等而编译成的免费软件。",-1),h=e("p",null,"8 月 21 号，Tavis Ormandy 通过公开邮件列表，再次指出 GhostScript 的安全沙箱可以被绕过，通过构造恶意的图片内容，将可以造成命令执行、文件读取、文件删除等漏洞：",-1),_={href:"http://seclists.org/oss-sec/2018/q3/142",target:"_blank",rel:"noopener noreferrer"},u={href:"https://bugs.chromium.org/p/project-zero/issues/detail?id=1640",target:"_blank",rel:"noopener noreferrer"},g=i(`<p>GhostScript 被许多图片处理库所使用，如 ImageMagick、Python PIL 等，默认情况下这些库会根据图片的内容将其分发给不同的处理方法，其中就包括 GhostScript。</p><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><p>Vulhub执行如下命令启动漏洞环境（其中包括最新版 GhostScript 9.23、ImageMagick 7.0.8）：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>环境启动后，访问<code>http://your-ip:8080</code>将可以看到一个上传组件。</p><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2>`,6),m={href:"https://github.com/vulhub/vulhub/blob/master/ghostscript/CVE-2018-16509/poc.png",target:"_blank",rel:"noopener noreferrer"},b=e("code",null,"id > /tmp/success && cat /tmp/success",-1),f=e("figure",null,[e("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202202231916175.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),x=e("p",null,"进入容器，可以看到/tmp/success已被创建。",-1),k=e("figure",null,[e("img",{src:"https://cb86160.webp.li/makabaka-r1-photo/202202231925597.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1);function v(S,V){const s=a("ExternalLinkIcon");return n(),c("div",null,[d,p,h,e("ul",null,[e("li",null,[e("a",_,[t("http://seclists.org/oss-sec/2018/q3/142"),o(s)])]),e("li",null,[e("a",u,[t("https://bugs.chromium.org/p/project-zero/issues/detail?id=1640"),o(s)])])]),g,e("p",null,[t("上传"),e("a",m,[t("poc.png"),o(s)]),t("，将执行命令"),b,t("。")]),f,x,k])}const y=r(l,[["render",v],["__file","GhostScript 沙箱绕过（命令执行）漏洞 CVE-2018-16509.html.vue"]]);export{y as default};
