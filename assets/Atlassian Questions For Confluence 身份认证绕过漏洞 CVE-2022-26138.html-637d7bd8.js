import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as a,e as s}from"./app-58e4a7d6.js";const i={},r=s(`<h2 id="漏洞描述" tabindex="-1"><a class="header-anchor" href="#漏洞描述" aria-hidden="true">#</a> 漏洞描述</h2><p>Atlassian官方发布了2022年7月的安全更新，其中涉及到Confluence Server的多个漏洞，其中CVE-2022-26138为一个硬编码漏洞。</p><p>当Confluence Server或Data Center上的Questions for Confluence app启用时，它会创建一个名为<code>disabledsystemuser</code>的Confluence用户帐户。此帐户旨在帮助将数据从应用程序迁移到 Confluence Cloud的管理员账号中。该帐户通过使用<strong>硬编码密码</strong>创建并添加到confluence-users组中，在默认情况下允许查看和编辑 Confluence 中的所有非受限页面。</p><p>未经身份验证攻击者可以利用所知的硬编码密码登录Confluence并访问该组有权限访问的所有页面。</p><h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Questions for Confluence app == 2.7.34
Questions for Confluence app == 2.7.35
Questions for Confluence app == 3.0.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="漏洞分析" tabindex="-1"><a class="header-anchor" href="#漏洞分析" aria-hidden="true">#</a> 漏洞分析</h2><p>下载应用程序 <strong>confluence-questions-3.0.2.jar</strong> 或者另外两个版本。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://packages.atlassian.com/maven-atlassian-external/com/atlassian/confluence/plugins/confluence-questions/3.0.2/confluence-questions-3.0.2.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>分析源码，在配置文件default.properties中可以找到所创建用户的相关信息，其中的username和password都是固定的。</p><p>使用Java Decompiler打开jar文件，在配置文件default.properties中可以找到所创建用户的相关信息。</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230228165102312.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>上传Questions for Confluence应用程序，使用硬编码用户密码成功登录。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>predefined.user.username=disabledsystemuser
predefined.user.password=disabled1system1user6708
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修复建议" tabindex="-1"><a class="header-anchor" href="#修复建议" aria-hidden="true">#</a> 修复建议</h2><p>目前厂商已发布升级更新Questions for Confluence扩展至以下安全版本:</p><ul><li><p>2.7.x &gt;= 2.7.38 (Confluence 6.13.18 到 7.16.2)</p></li><li><p>Versions &gt;= 3.0.5 (Confluence 7.16.3 之后的版本)</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://jira.atlassian.com/browse/CONFSERVER-79483
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,18),t=[r];function l(d,o){return n(),a("div",null,t)}const p=e(i,[["render",l],["__file","Atlassian Questions For Confluence 身份认证绕过漏洞 CVE-2022-26138.html.vue"]]);export{p as default};
